library(dplyr)
library(lubridate)
library(stringr)
data <- read.csv("dataCleaning311.csv", header = TRUE, stringsAsFactors = FALSE)
#delete NA in CmO, TmO
tmp1 <- subset(data, !is.na(data$CmO))
tmp2 <- subset(tmp1, !is.na(tmp1$TmO))
#check whethere there are NAs in CmO, TmO and OnTime_Status columns 
any(is.na(tmp2$TmO))
any(is.na(tmp2$CmO))
any(is.na(tmp2$OnTime_Status))

#deal with time of cases(extract yearly request) 
OPEN_DT <- as.POSIXct(strptime(tmp2$OPEN_DT, format = "%m/%d/%Y %I:%M:%S %p"))
tmp2$year <- str_sub(tmp2$OPEN_DT, start = 7L, end = 10L)


#Now we only focus on 2014, later we can extend to other years to repeat to run following code
data14 <- subset(tmp2, tmp2$year == 2014)
#get metrics classified by neighborhoods
AB<-subset(data14,data14$neighborhood=="Allston / Brighton")
backbay<-subset(data14,data14$neighborhood=="Back Bay")
beaconhill<-subset(data14,data14$neighborhood=="Beacon Hill")
charlestown<-subset(data14,data14$neighborhood=="Charlestown")
dorchester<-subset(data14,data14$neighborhood=="Dorchester")
downtown<-subset(data14,data14$neighborhood=="Downtown / Financial District")
eastboston<-subset(data14,data14$neighborhood=="East Boston")
fkal<-subset(data14,data14$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark<-subset(data14,data14$neighborhood=="Hyde Park")
jamaicaplain<-subset(data14,data14$neighborhood=="Jamaica Plain")
mattapan<-subset(data14,data14$neighborhood=="Mattapan")
missionhill<-subset(data14,data14$neighborhood=="Mission Hill")
roslindale<-subset(data14,data14$neighborhood=="Roslindale")
roxbury<-subset(data14,data14$neighborhood=="Roxbury")
southboston<-subset(data14,data14$neighborhood=="South Boston / South Boston Waterfront")
southend<-subset(data14,data14$neighborhood=="South End")
westroxbury<-subset(data14,data14$neighborhood=="West Roxbury")


##function
#time_consume is the mean of close time-open time in this neighborhood
#consistency, is the standard deviation of the C-O in this neighborhood
#efficacy  is the percentage of job completed over 34.4%of Target tiem-Open time in this neighborhood
#request_N is the total request number in this neighborhood
#ontime_rate is the ontime_request / total_request in this neghborhood(seems the same as efficacy)

#PS: The units of time_consume and consistency are seconds. 
df<-function(dataframe){
  average<-mean(dataframe$CmO)
  t<-mean(dataframe$TmO)
  consistency<-sd(dataframe$CmO)
  efficacy<-average/(0.344*t)
  ontime<-subset(dataframe,dataframe$OnTime_Status=="ONTIME")
  ontime_rate<-length(ontime$X)/length(dataframe$X)
  request_N<-length(dataframe$X)
  d<-data.frame(name=dataframe$neighborhood[1],time_consume=average,consistency=consistency,efficacy=efficacy,ontime_rate=ontime_rate,request_N=request_N)
  return(d)
}

ab<-df(AB)
bb<-df(backbay)
bh<-df(beaconhill)
ct<-df(charlestown)
dc<-df(dorchester)
dt<-df(downtown)
eb<-df(eastboston)
fk<-df(fkal)
hp<-df(hydepark)
jc<-df(jamaicaplain)
mp<-df(mattapan)
mh<-df(missionhill)
rl<-df(roslindale)
rb<-df(roxbury)
sb<-df(southboston)
se<-df(southend)
wb<-df(westroxbury)

#The units of time_consume and consistency are seconds.
qos_neighborhood14<-rbind(ab,bb,bh,ct,dc,dt,eb,fk,hp,jc,mp,mh,rl,rb,sb,se,wb)

#What if we change the units of time_consume and consistency to day
#1 day = 24*60*60=86400 sec
qos_neighborhood14.day <- mutate(qos_neighborhood14, time_consume = time_consume/86400, consistency = consistency/86400)

#What if we change the units of time_consume and consistency to minute
#1 min = 60 sec
qos_neighborhood14.min <- mutate(qos_neighborhood14, time_consume = time_consume/60, consistency = consistency/60)
#It is the same unit as what metric gourp post at first. And you can see the difference



#--------------------------------------------------------------------------------
#devision by departments and neighborhoods
#difference among neighborhoods for every department

#difference among departments for every neighborhood
#extract data by department
data14.bps <- subset(data14, data14$SUBJECT == "Boston Public School")
data14.bwsc <- subset(data14, data14$SUBJECT == "Boston Water & Sewer Commission")
data14.is <- subset(data14, data14$SUBJECT == "Inspectional Services")
data14.mhh <- subset(data14, data14$SUBJECT == "Mayor's 24 Hour Hotline")
data14.prd <- subset(data14, data14$SUBJECT == "Parks & Recreation Department")
data14.pm <- subset(data14, data14$SUBJECT == "Property Management")
data14.pwd <- subset(data14, data14$SUBJECT == "Public Works Department")
data14.t <- subset(data14, data14$SUBJECT == "Transportation - Traffic Division")
#extract neighborhood data from department standpoint
#first: Boston Public School
AB1<-subset(data14.bps,data14.bps$neighborhood=="Allston / Brighton")
backbay1<-subset(data14.bps,data14.bps$neighborhood=="Back Bay")
beaconhill1<-subset(data14.bps,data14.bps$neighborhood=="Beacon Hill")
charlestown1<-subset(data14.bps,data14.bps$neighborhood=="Charlestown")
dorchester1<-subset(data14.bps,data14.bps$neighborhood=="Dorchester")
downtown1<-subset(data14.bps,data14.bps$neighborhood=="Downtown / Financial District")
eastboston1<-subset(data14.bps,data14.bps$neighborhood=="East Boston")
fkal1<-subset(data14.bps,data14.bps$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark1<-subset(data14.bps,data14.bps$neighborhood=="Hyde Park")
jamaicaplain1<-subset(data14.bps,data14.bps$neighborhood=="Jamaica Plain")
mattapan1<-subset(data14.bps,data14.bps$neighborhood=="Mattapan")
missionhill1<-subset(data14.bps,data14.bps$neighborhood=="Mission Hill")
roslindale1<-subset(data14.bps,data14.bps$neighborhood=="Roslindale")
roxbury1<-subset(data14.bps,data14.bps$neighborhood=="Roxbury")
southboston1<-subset(data14.bps,data14.bps$neighborhood=="South Boston / South Boston Waterfront")
southend1<-subset(data14.bps,data14.bps$neighborhood=="South End")
westroxbury1<-subset(data14.bps,data14.bps$neighborhood=="West Roxbury")
df3<-function(dataframe){
  average<-mean(dataframe$CmO)
  t<-mean(dataframe$TmO)
  consistency<-sd(dataframe$CmO)
  efficacy<-average/(0.344*t)
  ontime<-subset(dataframe,dataframe$OnTime_Status=="ONTIME")
  ontime_rate<-length(ontime$X)/length(dataframe$X)
  request_N<-length(dataframe$X)
  d<-data.frame(name=dataframe$neighborhood[1],department=dataframe$SUBJECT[1],time_consume=average,consistency=consistency,efficacy=efficacy,ontime_rate=ontime_rate,request_N=request_N)
  return(d)
}

ab1<-df3(AB1)
bb1<-df3(backbay1)
bh1<-df3(beaconhill1)
ct1<-df3(charlestown1)
dc1<-df3(dorchester1)
dt1<-df3(downtown1)
eb1<-df3(eastboston1)
fk1<-df3(fkal1)
hp1<-df3(hydepark1)
jc1<-df3(jamaicaplain1)
mp1<-df3(mattapan1)
mh1<-df3(missionhill1)
rl1<-df3(roslindale1)
rb1<-df3(roxbury1)
sb1<-df3(southboston1)
se1<-df3(southend1)
wb1<-df3(westroxbury1)

qos.bps.nei14 <- rbind(ab1,bb1,bh1,ct1,dc1,dt1,eb1,fk1,hp1,jc1,mp1,mh1,rl1,rb1,sb1,se1,wb1)

#second: Boston Water & Sewer Commission
AB2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Allston / Brighton")
backbay2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Back Bay")
beaconhill2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Beacon Hill")
charlestown2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Charlestown")
dorchester2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Dorchester")
downtown2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Downtown / Financial District")
eastboston2<-subset(data14.bwsc,data14.bwsc$neighborhood=="East Boston")
fkal2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Hyde Park")
jamaicaplain2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Jamaica Plain")
mattapan2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Mattapan")
missionhill2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Mission Hill")
roslindale2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Roslindale")
roxbury2<-subset(data14.bwsc,data14.bwsc$neighborhood=="Roxbury")
southboston2<-subset(data14.bwsc,data14.bwsc$neighborhood=="South Boston / South Boston Waterfront")
southend2<-subset(data14.bwsc,data14.bwsc$neighborhood=="South End")
westroxbury2<-subset(data14.bwsc,data14.bwsc$neighborhood=="West Roxbury")

ab2<-df3(AB2)
bb2<-df3(backbay2)
bh2<-df3(beaconhill2)
ct2<-df3(charlestown2)
dc2<-df3(dorchester2)
dt2<-df3(downtown2)
eb2<-df3(eastboston2)
fk2<-df3(fkal2)
hp2<-df3(hydepark2)
jc2<-df3(jamaicaplain2)
mp2<-df3(mattapan2)
mh2<-df3(missionhill2)
rl2<-df3(roslindale2)
rb2<-df3(roxbury2)
sb2<-df3(southboston2)
se2<-df3(southend2)
wb2<-df3(westroxbury2)

qos.bwsc.nei14 <- rbind(ab2,bb2,bh2,ct2,dc2,dt2,eb2,fk2,hp2,jc2,mp2,mh2,rl2,rb2,sb2,se2,wb2)

#third: Inspectional Services
AB3<-subset(data14.is,data14.is$neighborhood=="Allston / Brighton")
backbay3<-subset(data14.is,data14.is$neighborhood=="Back Bay")
beaconhill3<-subset(data14.is,data14.is$neighborhood=="Beacon Hill")
charlestown3<-subset(data14.is,data14.is$neighborhood=="Charlestown")
dorchester3<-subset(data14.is,data14.is$neighborhood=="Dorchester")
downtown3<-subset(data14.is,data14.is$neighborhood=="Downtown / Financial District")
eastboston3<-subset(data14.is,data14.is$neighborhood=="East Boston")
fkal3<-subset(data14.is,data14.is$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark3<-subset(data14.is,data14.is$neighborhood=="Hyde Park")
jamaicaplain3<-subset(data14.is,data14.is$neighborhood=="Jamaica Plain")
mattapan3<-subset(data14.is,data14.is$neighborhood=="Mattapan")
missionhill3<-subset(data14.is,data14.is$neighborhood=="Mission Hill")
roslindale3<-subset(data14.is,data14.is$neighborhood=="Roslindale")
roxbury3<-subset(data14.is,data14.is$neighborhood=="Roxbury")
southboston3<-subset(data14.is,data14.is$neighborhood=="South Boston / South Boston Waterfront")
southend3<-subset(data14.is,data14.is$neighborhood=="South End")
westroxbury3<-subset(data14.is,data14.is$neighborhood=="West Roxbury")

ab3<-df3(AB3)
bb3<-df3(backbay3)
bh3<-df3(beaconhill3)
ct3<-df3(charlestown3)
dc3<-df3(dorchester3)
dt3<-df3(downtown3)
eb3<-df3(eastboston3)
fk3<-df3(fkal3)
hp3<-df3(hydepark3)
jc3<-df3(jamaicaplain3)
mp3<-df3(mattapan3)
mh3<-df3(missionhill3)
rl3<-df3(roslindale3)
rb3<-df3(roxbury3)
sb3<-df3(southboston3)
se3<-df3(southend3)
wb3<-df3(westroxbury3)

qos.is.nei14 <- rbind(ab3,bb3,bh3,ct3,dc3,dt3,eb3,fk3,hp3,jc3,mp3,mh3,rl3,rb3,sb3,se3,wb3)

#fourth: Mayor's 24 Hour Hotline
AB4<-subset(data14.mhh,data14.mhh$neighborhood=="Allston / Brighton")
backbay4<-subset(data14.mhh,data14.mhh$neighborhood=="Back Bay")
beaconhill4<-subset(data14.mhh,data14.mhh$neighborhood=="Beacon Hill")
charlestown4<-subset(data14.mhh,data14.mhh$neighborhood=="Charlestown")
dorchester4<-subset(data14.mhh,data14.mhh$neighborhood=="Dorchester")
downtown4<-subset(data14.mhh,data14.mhh$neighborhood=="Downtown / Financial Dmhhtrict")
eastboston4<-subset(data14.mhh,data14.mhh$neighborhood=="East Boston")
fkal4<-subset(data14.mhh,data14.mhh$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark4<-subset(data14.mhh,data14.mhh$neighborhood=="Hyde Park")
jamaicaplain4<-subset(data14.mhh,data14.mhh$neighborhood=="Jamaica Plain")
mattapan4<-subset(data14.mhh,data14.mhh$neighborhood=="Mattapan")
missionhill4<-subset(data14.mhh,data14.mhh$neighborhood=="Mmhhsion Hill")
roslindale4<-subset(data14.mhh,data14.mhh$neighborhood=="Roslindale")
roxbury4<-subset(data14.mhh,data14.mhh$neighborhood=="Roxbury")
southboston4<-subset(data14.mhh,data14.mhh$neighborhood=="South Boston / South Boston Waterfront")
southend4<-subset(data14.mhh,data14.mhh$neighborhood=="South End")
westroxbury4<-subset(data14.mhh,data14.mhh$neighborhood=="West Roxbury")

ab4<-df3(AB4)
bb4<-df3(backbay4)
bh4<-df3(beaconhill4)
ct4<-df3(charlestown4)
dc4<-df3(dorchester4)
dt4<-df3(downtown4)
eb4<-df3(eastboston4)
fk4<-df3(fkal4)
hp4<-df3(hydepark4)
jc4<-df3(jamaicaplain4)
mp4<-df3(mattapan4)
mh4<-df3(missionhill4)
rl4<-df3(roslindale4)
rb4<-df3(roxbury4)
sb4<-df3(southboston4)
se4<-df3(southend4)
wb4<-df3(westroxbury4)

qos.mhh.nei14 <- rbind(ab4,bb4,bh4,ct4,dc4,dt4,eb4,fk4,hp4,jc4,mp4,mh4,rl4,rb4,sb4,se4,wb4)

#fifth: Parks & Recreation Department
AB5<-subset(data14.prd,data14.prd$neighborhood=="Allston / Brighton")
backbay5<-subset(data14.prd,data14.prd$neighborhood=="Back Bay")
beaconhill5<-subset(data14.prd,data14.prd$neighborhood=="Beacon Hill")
charlestown5<-subset(data14.prd,data14.prd$neighborhood=="Charlestown")
dorchester5<-subset(data14.prd,data14.prd$neighborhood=="Dorchester")
downtown5<-subset(data14.prd,data14.prd$neighborhood=="Downtown / Financial District")
eastboston5<-subset(data14.prd,data14.prd$neighborhood=="East Boston")
fkal5<-subset(data14.prd,data14.prd$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark5<-subset(data14.prd,data14.prd$neighborhood=="Hyde Park")
jamaicaplain5<-subset(data14.prd,data14.prd$neighborhood=="Jamaica Plain")
mattapan5<-subset(data14.prd,data14.prd$neighborhood=="Mattapan")
missionhill5<-subset(data14.prd,data14.prd$neighborhood=="Mission Hill")
roslindale5<-subset(data14.prd,data14.prd$neighborhood=="Roslindale")
roxbury5<-subset(data14.prd,data14.prd$neighborhood=="Roxbury")
southboston5<-subset(data14.prd,data14.prd$neighborhood=="South Boston / South Boston Waterfront")
southend5<-subset(data14.prd,data14.prd$neighborhood=="South End")
westroxbury5<-subset(data14.prd,data14.prd$neighborhood=="West Roxbury")

ab5<-df3(AB5)
bb5<-df3(backbay5)
bh5<-df3(beaconhill5)
ct5<-df3(charlestown5)
dc5<-df3(dorchester5)
dt5<-df3(downtown5)
eb5<-df3(eastboston5)
fk5<-df3(fkal5)
hp5<-df3(hydepark5)
jc5<-df3(jamaicaplain5)
mp5<-df3(mattapan5)
mh5<-df3(missionhill5)
rl5<-df3(roslindale5)
rb5<-df3(roxbury5)
sb5<-df3(southboston5)
se5<-df3(southend5)
wb5<-df3(westroxbury5)

qos.prd.nei14 <- rbind(ab5,bb5,bh5,ct5,dc5,dt5,eb5,fk5,hp5,jc5,mp5,mh5,rl5,rb5,sb5,se5,wb5)

#sixth: Property Management
AB6<-subset(data14.pm,data14.pm$neighborhood=="Allston / Brighton")
backbay6<-subset(data14.pm,data14.pm$neighborhood=="Back Bay")
beaconhill6<-subset(data14.pm,data14.pm$neighborhood=="Beacon Hill")
charlestown6<-subset(data14.pm,data14.pm$neighborhood=="Charlestown")
dorchester6<-subset(data14.pm,data14.pm$neighborhood=="Dorchester")
downtown6<-subset(data14.pm,data14.pm$neighborhood=="Downtown / Financial District")
eastboston6<-subset(data14.pm,data14.pm$neighborhood=="East Boston")
fkal6<-subset(data14.pm,data14.pm$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark6<-subset(data14.pm,data14.pm$neighborhood=="Hyde Park")
jamaicaplain6<-subset(data14.pm,data14.pm$neighborhood=="Jamaica Plain")
mattapan6<-subset(data14.pm,data14.pm$neighborhood=="Mattapan")
missionhill6<-subset(data14.pm,data14.pm$neighborhood=="Mission Hill")
roslindale6<-subset(data14.pm,data14.pm$neighborhood=="Roslindale")
roxbury6<-subset(data14.pm,data14.pm$neighborhood=="Roxbury")
southboston6<-subset(data14.pm,data14.pm$neighborhood=="South Boston / South Boston Waterfront")
southend6<-subset(data14.pm,data14.pm$neighborhood=="South End")
westroxbury6<-subset(data14.pm,data14.pm$neighborhood=="West Roxbury")

ab6<-df3(AB6)
bb6<-df3(backbay6)
bh6<-df3(beaconhill6)
ct6<-df3(charlestown6)
dc6<-df3(dorchester6)
dt6<-df3(downtown6)
eb6<-df3(eastboston6)
fk6<-df3(fkal6)
hp6<-df3(hydepark6)
jc6<-df3(jamaicaplain6)
mp6<-df3(mattapan6)
mh6<-df3(missionhill6)
rl6<-df3(roslindale6)
rb6<-df3(roxbury6)
sb6<-df3(southboston6)
se6<-df3(southend6)
wb6<-df3(westroxbury6)

qos.pm.nei14 <- rbind(ab6,bb6,bh6,ct6,dc6,dt6,eb6,fk6,hp6,jc6,mp6,mh6,rl6,rb6,sb6,se6,wb6)

#seventh: Public Works Department
AB7<-subset(data14.pwd,data14.pwd$neighborhood=="Allston / Brighton")
backbay7<-subset(data14.pwd,data14.pwd$neighborhood=="Back Bay")
beaconhill7<-subset(data14.pwd,data14.pwd$neighborhood=="Beacon Hill")
charlestown7<-subset(data14.pwd,data14.pwd$neighborhood=="Charlestown")
dorchester7<-subset(data14.pwd,data14.pwd$neighborhood=="Dorchester")
downtown7<-subset(data14.pwd,data14.pwd$neighborhood=="Downtown / Financial District")
eastboston7<-subset(data14.pwd,data14.pwd$neighborhood=="East Boston")
fkal7<-subset(data14.pwd,data14.pwd$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark7<-subset(data14.pwd,data14.pwd$neighborhood=="Hyde Park")
jamaicaplain7<-subset(data14.pwd,data14.pwd$neighborhood=="Jamaica Plain")
mattapan7<-subset(data14.pwd,data14.pwd$neighborhood=="Mattapan")
missionhill7<-subset(data14.pwd,data14.pwd$neighborhood=="Mission Hill")
roslindale7<-subset(data14.pwd,data14.pwd$neighborhood=="Roslindale")
roxbury7<-subset(data14.pwd,data14.pwd$neighborhood=="Roxbury")
southboston7<-subset(data14.pwd,data14.pwd$neighborhood=="South Boston / South Boston Waterfront")
southend7<-subset(data14.pwd,data14.pwd$neighborhood=="South End")
westroxbury7<-subset(data14.pwd,data14.pwd$neighborhood=="West Roxbury")

ab7<-df3(AB7)
bb7<-df3(backbay7)
bh7<-df3(beaconhill7)
ct7<-df3(charlestown7)
dc7<-df3(dorchester7)
dt7<-df3(downtown7)
eb7<-df3(eastboston7)
fk7<-df3(fkal7)
hp7<-df3(hydepark7)
jc7<-df3(jamaicaplain7)
mp7<-df3(mattapan7)
mh7<-df3(missionhill7)
rl7<-df3(roslindale7)
rb7<-df3(roxbury7)
sb7<-df3(southboston7)
se7<-df3(southend7)
wb7<-df3(westroxbury7)

qos.pwd.nei14 <- rbind(ab7,bb7,bh7,ct7,dc7,dt7,eb7,fk7,hp7,jc7,mp7,mh7,rl7,rb7,sb7,se7,wb7)

#eighth: Transportation - Traffic Division
AB8<-subset(data14.t,data14.t$neighborhood=="Allston / Brighton")
backbay8<-subset(data14.t,data14.t$neighborhood=="Back Bay")
beaconhill8<-subset(data14.t,data14.t$neighborhood=="Beacon Hill")
charlestown8<-subset(data14.t,data14.t$neighborhood=="Charlestown")
dorchester8<-subset(data14.t,data14.t$neighborhood=="Dorchester")
downtown8<-subset(data14.t,data14.t$neighborhood=="Downtown / Financial District")
eastboston8<-subset(data14.t,data14.t$neighborhood=="East Boston")
fkal8<-subset(data14.t,data14.t$neighborhood=="Fenway / Kenmore / Audubon Circle / Longwood") 
hydepark8<-subset(data14.t,data14.t$neighborhood=="Hyde Park")
jamaicaplain8<-subset(data14.t,data14.t$neighborhood=="Jamaica Plain")
mattapan8<-subset(data14.t,data14.t$neighborhood=="Mattapan")
missionhill8<-subset(data14.t,data14.t$neighborhood=="Mission Hill")
roslindale8<-subset(data14.t,data14.t$neighborhood=="Roslindale")
roxbury8<-subset(data14.t,data14.t$neighborhood=="Roxbury")
southboston8<-subset(data14.t,data14.t$neighborhood=="South Boston / South Boston Waterfront")
southend8<-subset(data14.t,data14.t$neighborhood=="South End")
westroxbury8<-subset(data14.t,data14.t$neighborhood=="West Roxbury")

ab8<-df3(AB8)
bb8<-df3(backbay8)
bh8<-df3(beaconhill8)
ct8<-df3(charlestown8)
dc8<-df3(dorchester8)
dt8<-df3(downtown8)
eb8<-df3(eastboston8)
fk8<-df3(fkal8)
hp8<-df3(hydepark8)
jc8<-df3(jamaicaplain8)
mp8<-df3(mattapan8)
mh8<-df3(missionhill8)
rl8<-df3(roslindale8)
rb8<-df3(roxbury8)
sb8<-df3(southboston8)
se8<-df3(southend8)
wb8<-df3(westroxbury8)

qos.t.nei14 <- rbind(ab8,bb8,bh8,ct8,dc8,dt8,eb8,fk8,hp8,jc8,mp8,mh8,rl8,rb8,sb8,se8,wb8)

#summarize: 8 departments 17 neighborhoods
qos_depar_nei14 <- rbind(qos.bps.nei14,qos.bwsc.nei14,qos.is.nei14,qos.mhh.nei14,qos.prd.nei14,qos.pm.nei14,qos.pwd.nei14,qos.t.nei14)
